(this["webpackJsonpdemo-oslo-bysykkel"]=this["webpackJsonpdemo-oslo-bysykkel"]||[]).push([[0],{313:function(t,e,a){t.exports={container:"mainContainerStyle_container__1lxRa"}},314:function(t,e,a){t.exports={tableContainer:"stationTable_tableContainer__24RL6"}},315:function(t){t.exports=JSON.parse('{"metadata":{"appName":"Demo Oslo Bysykkel"},"oslobysykkel":{"host":"https://gbfs.urbansharing.com/oslobysykkel.no","endpoints":{"stationStatus":"/station_status.json","stationInformation":"/station_information.json"}}}')},331:function(t,e,a){t.exports=a(427)},336:function(t,e,a){},427:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(15),s=a.n(o),i=(a(336),a(313)),c=a.n(i),l=a(93),u=a(314),d=a.n(u),m=a(111),f=a.n(m),b=a(156),p=a(215),v=a(315),k=function(){var t=Object(b.a)(f.a.mark((function t(e){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if(200===(a=t.sent).status){t.next=6;break}return t.abrupt("return","error");case 6:return t.next=8,a.json();case 8:return t.abrupt("return",t.sent);case 11:t.prev=11,t.t0=t.catch(0),new Error("Failed to fetch data from: ".concat(e));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(n.useState)([]),e=Object(p.a)(t,2),a=e[0],r=e[1],o=Object(n.useState)("LOADING"),s=Object(p.a)(o,2),i=s[0],c=s[1],l=function(t,e){var a=t.map((function(t){var a=t.name,n=t.capacity,r=t.station_id,o=e.find((function(t){return r===t.station_id}));return{name:a,capacity:n,num_docks_available:o.num_docks_available,num_bikes_available:o.num_bikes_available}}));r(a),c("DATA_COLLECTED")};return Object(n.useEffect)((function(){var t=v.oslobysykkel,e=t.host,a=t.endpoints,n=a.stationInformation,r=a.stationStatus;(function(){var t=Object(b.a)(f.a.mark((function t(){var a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e+n);case 2:return a=t.sent,t.next=5,k(e+r);case 5:o=t.sent,"error"===a||"error"===o?c("ERROR"):l(a.data.stations,o.data.stations);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(){return console.debug("retrieved data")})).catch((function(){return c("ERROR")}))}),[]),{stations:a,status:i}},h=a(316),_=a.n(h),g=function(t){var e=l.stationTable.status;switch(t){case"LOADING":return e.loading;case"ERROR":return e.error;case"DATA_COLLECTED":return e.dataCollected;default:return""}},O=function(){var t=y(),e=t.stations,a=t.status;return r.a.createElement("div",{className:d.a.tableContainer},r.a.createElement(_.a,{columns:[{title:l.stationTable.name,field:"name"},{title:l.stationTable.availableLocks,field:"num_docks_available",type:"numeric"},{title:l.stationTable.availableBikes,field:"num_bikes_available",type:"numeric"}],localization:{body:{emptyDataSourceMessage:g(a)}},data:e,isLoading:"LOADING"===a,title:l.stationTable.title}))},E=function(){return r.a.createElement("main",null,r.a.createElement("div",{className:c.a.container},r.a.createElement(O,null)))};var j=function(){return r.a.createElement("div",null,r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},93:function(t){t.exports=JSON.parse('{"stationTable":{"title":"Oslo Bysykkel stasjoner:","name":"Navn","availableLocks":"Tilgjengelige l\xe5ser","availableBikes":"Tilgjengelige sykler","status":{"loading":"Laster data","error":"Oida, kunne ikke hente data. Pr\xf8v igjen :/","dataCollected":"Ingen data tilgjengelig"}}}')}},[[331,1,2]]]);
//# sourceMappingURL=main.58239407.chunk.js.map